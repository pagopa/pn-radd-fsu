[
  {
    "httpRequest": {
      "path": "/delivery-private/notifications/LJLH-GNTJ-DVXR-202209-J-1",
      "method": "GET"
    },
    "httpResponse": {
      "statusCode": 200,
      "headers": {
        "content-type": [
          "application/json"
        ]
      },
      "body": "{\"abstract\":\"Abstract della notifica\",\"idempotenceToken\":\"\",\"paProtocolNumber\":\"1662580087324\",\"subject\":\"invio notifica con cucumber 07-09-2022 19:48:07\",\"recipients\":[{\"recipientType\":\"PF\",\"taxId\":\"FRMTTR76M06B715E\",\"internalId\":\"PF-4fc75df3-0913-407e-bdaa-e50329708b7d\",\"denomination\":\"Mario Cucumber denomination\",\"digitalDomicile\":{\"type\":\"PEC\",\"address\":\"FRMTTR76M06B715E@pnpagopa.postecert.local\"},\"physicalAddress\":{\"address\":\"Via senza nome\",\"zip\":\"40100\",\"municipality\":\"Milano\",\"province\":\"MI\",\"foreignState\":\"ITALIA\"},\"payment\":{\"noticeCode\":\"302011662580087324\",\"creditorTaxId\":\"77777777777\",\"pagoPaForm\":{\"digests\":{\"sha256\":\"jezIVxlG1M1woCSUngM6KipUN3/p8cG5RMIPnuEanlE=\"},\"contentType\":\"application/pdf\",\"ref\":{\"key\":\"PN_NOTIFICATION_ATTACHMENTS-0001-YXGY-RXJX-ZK5Z-41TQ\",\"versionToken\":\"v1\"}},\"f24flatRate\":{\"digests\":{\"sha256\":\"jezIVxlG1M1woCSUngM6KipUN3/p8cG5RMIPnuEanlE=\"},\"contentType\":\"application/pdf\",\"ref\":{\"key\":\"PN_NOTIFICATION_ATTACHMENTS-0001-VUAR-SGM7-X550-ICD6\",\"versionToken\":\"v1\"}},\"f24standard\":{\"digests\":{\"sha256\":\"jezIVxlG1M1woCSUngM6KipUN3/p8cG5RMIPnuEanlE=\"},\"contentType\":\"application/pdf\",\"ref\":{\"key\":\"PN_NOTIFICATION_ATTACHMENTS-0001-42DD-5KED-WHWY-CHTE\",\"versionToken\":\"v1\"}}}}],\"documents\":[{\"digests\":{\"sha256\":\"jezIVxlG1M1woCSUngM6KipUN3/p8cG5RMIPnuEanlE=\"},\"contentType\":\"application/pdf\",\"ref\":{\"key\":\"PN_NOTIFICATION_ATTACHMENTS-0001-Y1GA-XO08-1Y67-CI3Q\",\"versionToken\":\"v1\"},\"docIdx\":\"0\"}, {\"digests\":{\"sha256\":\"jezIVxlG1M1woCSUngM6KipUN3/p8cG5RMIPnuEanlE=\"},\"contentType\":\"application/pdf\",\"ref\":{\"key\":\"PN_NOTIFICATION_ATTACHMENTS-0001-Y1GA-XO08-1Y67-CI3Q\",\"versionToken\":\"v1\"},\"docIdx\":\"0\"}, {\"digests\":{\"sha256\":\"jezIVxlG1M1woCSUngM6KipUN3/p8cG5RMIPnuEanlE=\"},\"contentType\":\"application/pdf\",\"ref\":{\"key\":\"PN_NOTIFICATION_ATTACHMENTS-0001-Y1GA-XO08-1Y67-CI3Q\",\"versionToken\":\"v1\"},\"docIdx\":\"0\"}],\"notificationFeePolicy\":\"FLAT_RATE\",\"cancelledIun\":\"\",\"physicalCommunicationType\":\"REGISTERED_LETTER_890\",\"senderDenomination\":\"comune di milano\",\"senderTaxId\":\"CFComuneMilano\",\"group\":\"\",\"senderPaId\":\"026e8c72-7944-4dcd-8668-f596447fec6d\",\"iun\":\"LJLH-GNTJ-DVXR-202209-J-1\",\"sentAt\":\"2022-09-07T19:48:07.766026Z\",\"documentsAvailable\":true}"
    }
  },
  {
    "httpRequest": {
      "path": "/delivery-private/notifications/LJLH-GNTJ",
      "method": "GET"
    },
    "httpResponse": {
      "statusCode": 400,
      "headers": {
        "content-type": [
          "application/json"
        ]
      },
      "body": {
        "status": 400,
        "title": "Iun",
        "detail": "Format code error, iun is incorrect",
        "traceId": "123987653p",
        "errors": [
          {"code": "123-4567"},
          {"detail": "Parameter not valid"}
        ]
      }
    }
  },
  {
    "httpRequest": {
      "path": "/delivery-private/notifications/received/LJLH-GNTJ-DVXR-202209-J-1/attachments/documents/12984594",
      "queryStringParameters" : {
        "recipientInternalId" : [ "65df2qm7y" ]
      },
      "method": "GET"
    },
    "httpResponse": {
      "statusCode": 200,
      "headers": {
        "content-type": [
          "application/json"
        ]
      },
      "body": {
        "filename": "doc.pdf",
        "contentType": "application/pdf",
        "contentLength": 54092,
        "sha256": "D73JG1340FJ3GBFI04NT0B73JV9W7331V",
        "url": "http://downdocuments",
        "retryAfter": 8035
      }
    }
  },
  {
    "httpRequest": {
      "path": "/delivery-private/notifications/received/LJLH-GNTJ-DVXR-202209-J-1/attachments/documents/12984594",
      "method": "GET",
      "queryStringParameters" : {
        "recipientInternalId" : [ "" ]
      }
    },
    "httpResponse": {
      "statusCode": 400,
      "headers": {
        "content-type": [
          "application/json"
        ]
      },
      "body": {
        "status": 400,
        "title": "Download",
        "detail": "Format code error, docIdx is incorrect",
        "traceId": "123987653p",
        "errors": [
          {"code": "123-4567"},
          {"detail": "Parameter not valid"}
        ]
      }
    }
  },
  {
    "httpRequest": {
      "path": "/delivery-private/notifications/received/LJLH-GNTJ-DVXR-202209-J-1/attachments/payment/paymentDoc",
      "queryStringParameters" : {
        "recipientInternalId" : [ "12df2qm7y" ]
      },
      "method": "GET"
    },
    "httpResponse": {
      "statusCode": 200,
      "headers": {
        "content-type": [
          "application/json"
        ]
      },
      "body": {
        "filename": "paymentDoc.pdf",
        "contentType": "application/pdf",
        "contentLength": 54092,
        "sha256": "D73JG1340FJ3GBFI04NT0B73JV9W7331V",
        "url": "http://dowpayment",
        "retryAfter": 3580
      }
    }
  },
  {
    "httpRequest": {
      "path": "/delivery-private/notifications/received/LJLH-GNTJ-DVXR-202209-J-1/attachments/payment/paymentDoc",
      "queryStringParameters" : {
        "recipientInternalId" : [ "" ]
      },
      "method": "GET"
    },
    "httpResponse": {
      "statusCode": 400,
      "headers": {
        "content-type": [
          "application/json"
        ]
      },
      "body": {
        "status": 400,
        "title": "Download",
        "detail": "Format name error, name is incorrect",
        "traceId": "123987653p",
        "errors": [
          {"code": "123-4567"},
          {"detail": "Parameter not valid"}
        ]
      }
    }
  },
  {
    "httpRequest": {
      "path": "/delivery-private/check-aar-qr-code",
      "body": "{\"recipientType\":\"PF\",\"recipientInternalId\":\"PF-4fc75df3-0913-407e-bdaa-e50329708b7d\",\"aarQrCodeValue\":\"UFVNUS1ETVdHLUhSTFAtMjAyMjA5LVEtMV9GUk1UVFI3Nk0wNkI3MTVFXzVhZGIxMGE2LTM1MDEtNDcyYS04ZTkyLTU3ZGUyYzgxNTZhYw\"}",
      "method": "POST"
    },
    "httpResponse": {
      "statusCode": 200,
      "headers": {
        "content-type": [
          "application/json"
        ]
      },
      "body": "{\"iun\":\"LJLH-GNTJ-DVXR-202209-J-1\"}"
    }
  },
  {
    "httpRequest": {
      "path": "/delivery-private/check-aar-qr-code",
      "body": "{\"recipientType\":\"PF\",\"recipientInternalId\":\"PG-4fc75df3-0913-407e-bdaa-e50329708b7d\",\"aarQrCodeValue\":\"UFVNUS1ETVdHLUhSTFAtMjAyMjA5LVEtMV9GUk1UVFI3Nk0wNkI3MTVFXzVhZGIxMGE2LTM1MDEtNDcyYS04ZTkyLTU3ZGUyYzgxNTZhYw\"}",
      "method": "POST"
    },
    "httpResponse": {
      "statusCode": 400,
      "body": {
        "type": "",
        "status": 400,
        "title": "Service Unavailable",
        "detail": "A human readable explanation of the problem.",
        "errors": [
          {"code": "123-4567"},
          {"detail": "Parameter not valid"}
        ]
      }
    }
  },
  {
    "httpRequest": {
      "path": "/delivery-private/check-aar-qr-code",
      "body": "{\"recipientType\":\"PF\",\"recipientInternalId\":\"PF-4fc75df3-0913-407e-bdaa-e50329708b7d\"}",
      "method": "POST"
    },
    "httpResponse": {
      "statusCode": 400,
      "body": {
        "type": "",
        "status": 400,
        "title": "Service Unavailable",
        "detail": "A human readable explanation of the problem.",
        "errors": [
          {"code": "123-4567"},
          {"detail": "Parameter not valid"}
        ]
      }
    }
  },
  {
    "httpRequest": {
      "path" : "/datavault-private/v1/recipients/external/PF",
      "method": "POST"
    },
    "httpResponse": {
      "body": "\"PF-4fc75df3-0913-407e-bdaa-e50329708b7d\""
    }
  },
  {
    "httpRequest": {
      "path": "/datavault-private/v1/recipients/external/PG",
      "method": "POST"
    },
    "httpResponse": {
      "statusCode": 400,
      "body": {
        "status": 400,
        "title": "Codice fiscale non valido",
        "detail": "Il formato del codice fiscale non Ã¨ valido",
        "traceId": "123987653p",
        "errors": [
          {"code": "123-4567"},
          {"detail": "Parameter not valid"}
        ]
      }
    }
  },
  {
    "httpRequest": {
      "path": "/delivery-push-private/LJLH-GNTJ-DVXR-202209-J-1/viewed",
      "body" : {
        "recipientType" : "PF",
        "recipientInternalId" : "1924814",
        "raddType" : "__FSU__",
        "raddBusinessTransactionId" : null,
        "raddBusinessTransactionDate" : "2022-09-30T13:57:00Z"
      },
      "method": "POST"
    },
    "httpResponse": {
      "statusCode": 200,
      "headers": {
        "content-type": [
          "application/json"
        ]
      },
      "body": "{\"iun\":\"LJLH-GNTJ-DVXR-202209-J-1\"}"
    }
  },
  {
    "httpRequest": {
      "path": "/delivery-push-private/LJLH-GNTJ-DVXR-202209-J-1/viewed",
      "body" : {
        "recipientType" : "PF",
        "recipientInternalId" : "",
        "raddType" : "__FSU__",
        "raddBusinessTransactionId" : null,
        "raddBusinessTransactionDate" : "2022-09-30T13:57:00Z"
      },
      "method": "POST"
    },
    "httpResponse": {
      "statusCode": 400,
      "body": {
        "type": "",
        "status": 400,
        "title": "Invalid input",
        "detail": "Iun parameter is absent.",
        "errors": [
          {"code": "123-4567"},
          {"detail": "Parameter not valid"}
        ]
      }
    }
  },
  {
    "httpRequest": {
      "path": "/delivery-push-private/LJLH-GNTJ-DVXR-202209-J-1/legal-facts",
      "queryStringParameters" : {
        "recipientInternalId" : [ "854Bgs31a" ]
      },
      "method": "GET"
    },
    "httpResponse": {
      "statusCode": 200,
      "body": [
        {
          "taxId": "1234567890",
          "iun": "LJLH-GNTJ-DVXR-202209-J-1",
          "legalFactsId": {
            "key": "abc",
            "category": "SENDER_ACK"
          }
        }
      ]
    }
  },
  {
    "httpRequest": {
      "path": "/delivery-push-private/LJLH-GNTJ-DVXR-202209-J-1/legal-facts",
      "queryStringParameters" : {
        "recipientInternalId" : [ "" ]
      },
      "method": "GET"
    },
    "httpResponse": {
      "statusCode": 400,
      "body": {
        "type": "",
        "status": 400,
        "title": "Invalid input",
        "detail": "Iun parameter is absent.",
        "errors": [
          {"code": "123-4567"},
          {"detail": "Parameter not valid"}
        ]
      }
    }
  },
  {
    "httpRequest": {
      "path": "/delivery-push-private/LJLH-GNTJ-DVXR-202209-J-1/legal-facts/PEC_RECEIPT/98765",
      "queryStringParameters" : {
        "recipientInternalId" : [ "854Bgs31a" ]
      },
      "method": "GET"
    },
    "httpResponse": {
      "statusCode": 200,
      "headers": {
        "content-type": [
          "application/json"
        ]
      },
      "body": "{\"filename\":\"document\",\"contentLength\":54092,\"url\":\"http://down\",\"retryAfter\":0}"
    }
  },
  {
    "httpRequest": {
      "path": "/delivery-push-private/LJLH-GNTJ-DVXR-202209-J-1/legal-facts/PEC_RECEIPT/98765",
      "queryStringParameters" : {
        "recipientInternalId" : [ "" ]
      },
      "method": "GET"
    },
    "httpResponse": {
      "statusCode": 400,
      "body": {
        "type": "",
        "status": 400,
        "title": "Invalid input",
        "detail": "Iun parameter is absent.",
        "errors": [
          {"code": "123-4567"},
          {"detail": "Parameter not valid"}
        ]
      }
    }
  },
  {
    "httpRequest": {
      "path": "/safe-storage/v1/files",
      "method": "POST",
      "body": "{\"contentType\":\"application/pdf\",\"documentType\":\"PN_RADD_ALT_ATTACHMENT\",\"status\":\"PRELOADED\"}"
    },
    "httpResponse": {
      "statusCode": 200,
      "headers": {
        "content-type": [
          "application/json"
        ]
      },
      "body": "{\"uploadMethod\":\"PUT\",\"uploadUrl\":\"http://localhost:1080/safe-storage/storage/unFile\",\"secret\":\"AZ23RF12\",\"key\":\"8F7E/9A3B/1234/AB87\"}"
    }
  },
  {
    "httpRequest": {
      "path": "/safe-storage/v1/files",
      "method": "POST",
      "body": "{\"contentType\":\"application/json\",\"documentType\":\"PN_RADD_ALT_ATTACHMENT\",\"status\":\"PRELOADED\"}"
    },
    "httpResponse": {
      "statusCode": 404,
      "headers": {
        "content-type": [
          "application/json"
        ]
      },
      "body": "{\"resultDescription\":\"Il file non Ã¨ stato trovato.\"}"
    }
  },
  {
    "httpRequest": {
      "path": "/safe-storage/v1/files/AB87",
      "method": "GET"
    },
    "httpResponse": {
      "statusCode": 200,
      "headers": {
        "content-type": [
          "application/json"
        ]
      },
      "body": "{\"key\": \"random/path/of/the/file\", \"versionId\": \"3Z9SdhZ50PBeIj617KEMrztNKDMJj8FZ\", \"contentType\": \"application/pdf\", \"contentLength\": \"3028\", \"checksum\": \"jezIVxlG1M1woCSUngM6KipUN3/p8cG5RMIPnuEanlE=\", \"retentionUntil\": \"2032-04-12T12:32:04.000Z\", \"documentType\": \"PN_LEGALFACT\", \"status\": \"PRELOADED\", \"download\" : {\"url\":\"http://localhost:1080/safe-storage/storage/unFile\"}}"
    }
  },
  {
    "httpRequest": {
      "path": "/safe-storage/v1/files/ABC",
      "method": "GET"
    },
    "httpResponse": {
      "statusCode": 404,
      "headers": {
        "content-type": [
          "application/json"
        ]
      },
      "body": "{\"resultDescription\":\"Il file non Ã¨ stato trovato.\"}"
    }
  },
  {
    "httpRequest": {
      "path": "/safe-storage/v1/files/AB49",
      "method": "GET"
    },
    "httpResponse": {
      "statusCode": 200,
      "headers": {
        "content-type": [
          "application/json"
        ]
      },
      "body": "{\"key\": \"random/path/of/the/file\", \"versionId\": \"3Z9SdhZ50PBeIj617KEMrztNKDMJj8FZ\", \"contentType\": \"application/pdf\", \"contentLength\": \"3028\", \"checksum\": \"jezIVxlG1M1woCSUngM6KipUN3/p8cG5RMIPnuEanlE=\", \"retentionUntil\": \"2032-04-12T12:32:04.000Z\", \"documentType\": \"PN_LEGALFACT\", \"status\": \"PRELOADED\", \"download\" : {\"url\":\"https://presignedurldemo.s3.eu-west-2.amazonaws.com/\"}}"
    }
  },
  {
    "httpRequest": {
      "path": "/safe-storage/v1/files/XYZ",
      "method": "GET"
    },
    "httpResponse": {
      "statusCode": 404,
      "headers": {
        "content-type": [
          "application/json"
        ]
      },
      "body": "{\"resultDescription\":\"Il file non Ã¨ stato trovato.\"}"
    }
  },
  {
    "httpRequest": {
      "path": "/safe-storage/v1/files/8F7E/9A3B",
      "method": "POST",
      "body": "{\"status\":\"ATTACHED\",\"retentionUntil\":\"2022-09-30T07:44:15.626Z\"}"
    },
    "httpResponse": {
      "statusCode": 200,
      "headers": {
        "content-type": [
          "application/json"
        ]
      },
      "body": "{\"resultCode\":\"200.00\",\"resultDescription\":\"Non trovato.\",\"errorList\":\"[\"retentionDate cannot be anticipated\"]\"}"
    }
  },
  {
    "httpRequest": {
      "path": "/safe-storage/v1/files/8F7E",
      "method": "POST",
      "body": "{\"status\":\"ATTACHED\",\"retentionUntil\":\"2022-09-30T07:44:15.626Z\"}"
    },
    "httpResponse": {
      "statusCode": 404,
      "headers": {
        "content-type": [
          "application/json"
        ]
      },
      "body": "{\"resultDescription\":\"Il file non Ã¨ stato trovato.\"}"
    }
  },
  {
    "httpRequest": {
      "path": "/delivery-push-private/854Bgs31a/paper-notification-failed",
      "queryStringParameters" : {
        "getAAR" : [ "true" ]
      },
      "method": "GET"
    },
    "httpResponse": {
      "headers": {
        "content-type": ["application/json"]
      },
      "body":
      [
        {
          "iun": "LJLH-GNTJ-DVXR-202209-J-1",
          "recipientInternalId": "854Bgs31a",
          "aarUrl": "http://aarUrl"
        }
      ]

    }
  },
  {
    "httpRequest": {
      "path": "/delivery-push-private/854/paper-notification-failed",
      "queryStringParameters" : {
        "getAAR" : [ "true" ]
      },
      "method": "GET"
    },
    "httpResponse": {
      "headers": {
        "content-type": ["application/json"]
      },
      "statusCode": 400,
      "body": {
        "type": "",
        "status": 400,
        "title": "Invalid input",
        "detail": "Iun parameter is absent.",
        "errors": [
          {"code": "123-4567"},
          {"detail": "Parameter not valid"}
        ]
      }
    }
  }
]
